	1.Соединение плат и микроконтроллера:
1) Переходник для uSD карты:
	3.3v->3v
	GND->GND
	D0->PC8
	CMD->PD2
	CLK->PC12
	CD->PC6
2) MPU:
	VCC->5V
	GND->GND
	SDA->PB7
	SCL->PB6
	INT->PG9
3) HC-05 master:
	+5V->5V
	GND->GND
	TX->PB11
	RX->PB10
4) HC-05 slave (соединяется с FTDI232 или аналогичной платой):
	+5V->VCC
	GND->GND
	RX->TX
	TX->RX

	2.Настройка bluetooth платы HC-05:
Ссылки: 
http://narodstream.ru/bluetooth_modul_hc_05/
http://robotclass.ru/articles/bluetooth-hc-05-06/
Список АТ команд можно найти в папке Docs/HC-05
Для входа в режим АТ-команд необходимо на плате зажать кнопку, потом подключить питание. Для настройки плат рекомендуется использовать терминальную программу CoolTerm ( https://coolterm.en.lo4d.com/ )
Последовательность команд:
	1) slave:
	- AT 		//проверка подключения
	- AT+ORGL	//сброс настроек
	- AT+RMAAD	//сброс спаренных устройств
	- AT+PSWD=1234	//установка пароля (!пароль для каждой пары плат должен быть разный!) 
	- AT+ROLE=0	//включение режима ведомого
	- AT+UART=230400,0,0	//настраиваем UART: скорость 230400, 1 стоп бит, без контроля четности
	- AT+ADDR?	//получение адреса устройства
	2) master:
	- AT 		//проверка подключения
	- AT+ORGL	//сброс настроек
	- AT+RMAAD	//сброс спаренных устройств
	- AT+ROLE=1	//включение режима ведущего
	- AT+UART=230400,0,0	//настраиваем UART: скорость 230400, 1 стоп бит, без контроля четности
	- AT+RESET	//перезапуск платы
	После перезапуска необходимо снова зайти в режим АТ-команд
	- AT+PSWD=1234	//установка пароля (соответственный пароль для каждой пары)
	- AT+PAIR=<адрес>,<таймаут>	//указываем парное устройство, адрес берется из пункта 1), при этом пишется через запятые, пример: AT+PAIR = 12,3,456789,10
	- AT+BIND=<адрес> 	//связываем с адресом 
	- AT+CMODE=0	//запрещаем связываеться с другими адресами

	После настройки пары проверьте их соединение. Если обе платы связались друг с другом, то диоды на каждой из них будут дважды мигать с большими промежутками между миганиями. В противном случае, диоды будут мигать часто без задержек.

	3.Команды matlab:
1) start_command - передача даты и времени, запуск датчика
2) stop_command - остановка датчика
3) send_command - отправка данных в matlab, данные представляют собой три массива: accel - 3 оси акселерометра, gyro - 3 оси гироскопа, time_mark - временные метки после каждой передачи
4) erase_command - стирание последнего созданного файла

send_command и erase_command могут быть отправлены независимо от того, был ли включен датчик или нет (при наличии созданных ранее файлов)
start_command может быть отправлена после stop_command, при этом запись начнется в новый файл

	4.Прерывание по UART:
1) при получении команды start_command запоминается время с начала работы микроконтроллера, записывается во флэш-память имя файла по переданной дате и времени из matlab, инициализируется датчик, опрашивается 10 раз с целью отсеять неверные показания сразу после запуска
2) при получении команды stop_command отключается прерывание от ножки INT датчика (при инициализации ножка INT датчика показывает готовность данных к чтению с датчика)
3) при получении команды send_command читается имя файла из флэш-памяти, этот файл открывается на SD, в matlab посылается сначала количество записей в файле, затем в цикле по этому количеству отправляются данные и временная метка
4) при получении команды erase_command читается имя файла из флэш-памяти, затем этот файл стирается

	5.Прерывание по ножке INT датчика:
после получения команды start_command читаются данные с датчика, открывается файл, и в него записываются полученные данные + временная метка

	6.Последовательность отправки команд:
start_command -> stop_command -> send_command - в matlab отправятся все данные, записанные на SD за время между отправками start_command и stop_command 
send_command -> erase_command - в matlab отправятся все данные из последнего записанного файла, затем файл удаляется

	7.После перезапуска контроллера если не вставлена SD карта, будет мигать диод LD3 (ножка PG13). Если датчик не откликнулся на проверку WHO_AM_I, то загорится диод LD3. Если SD карта не вставлена, и при этом отправляется какая-либо команда, диод LD3 мигает 10 раз

